title: 存档无限串
date: 2013-08-04
categories: NOIP
-----------------------------------------

** Shuenhoy  15:17:50 **  
```
0<=i<10          f(i)=(j-0)*1+0
10<=i<100        f(i)=(j-10)*2+10 
100<=i<1000      f(i)=(j-100)*3+180
1000<=i<10000    f(i)=(j-1000)*4+2890
```

设w(x)表示x的位数则

** 约修亚_RK  15:18:17 **  
= =  
啊喂

** Shuenhoy  15:18:52 **  
```
0<=i<10          f(i)=(i-0)*w(i)+0
10<=i<100        f(i)=(i-10)*w(i)+10 
100<=i<1000      f(i)=(i-100)*w(i)+180
1000<=i<10000    f(i)=(i-1000)*w(i)+2890
应该是这样的
```

** 约修亚_RK  15:22:10 **  
= =  
你凌乱了吧

** Shuenhoy  15:22:37 **  
可以看到后面的0 10 180 2890就是比他位数少的最大的数  

```
d(i)={0    i==0
     {10^i i!=0
```

所以

** 约修亚_RK  15:23:32 **  
- -
- 
** Shuenhoy  15:24:20 ** 
```
f(i)=(i-d(w(i)-1))*w(i)+f(d(w(i)-1))
```

** 约修亚_RK  15:24:23 **  
。

** Shuenhoy  15:24:31 **  
这就是最后的式子

** 约修亚_RK  15:24:32 **  
= = 
w(i)=?
** Shuenhoy  15:24:55 **  
最后就是  
```
f(0)=0
f(i)=(i-d(w(i)-1))*w(i)+f(d(w(i)-1))
```

** Shuenhoy  15:25:11 **  
```
d(i)={0    i==0
     {10^i i!=0

w(i)={w(i/10)+1 i<10
     {1 i>=10
```
** 约修亚_RK  15:25:52 **  
设w(x)表示x的位数
.
** Shuenhoy  15:26:13 **  
现在RK来化简f(i)=(i-d(w(i)-1))*w(i)+f(d(w(i)-1))吧


** 约修亚_RK  15:26:16 **  
= == = = == =  
这玩意儿看着头痛  
浩然有个很欠扁的问题  

你特么是玩哪样啊

** 约修亚_RK  15:27:18 **  
我看到这个Data瞬间凌乱

** Shuenhoy  15:27:21 **  
- -  
但是现在还有一个很严重的问题  
就是我应该根据j求i而不是根据i求j  
** 约修亚_RK  15:28:13 **  
=  
我对i没好感  
（↑你吐什么槽啊）  
** Shuenhoy  15:31:46 **  
= =  
RK帮我找个地方存个档  



** Shuenhoy  15:36:13 **  
我知道哪有问题了  
原来是这样分析的  
```
190=(100-10)*2+10-1
0 <=i<10     i=(j-0)*1+0
10<=i<100    i=(j-10)*2+10 
    i%2==0    j=i/2+10-10/2-1
    i%2!=0    j=(i-1)/2+10-10/2-1
100<=i<1000  i=(j-100)*3+180
```

** 约修亚_RK  15:37:05 **  
-　-  
浩然  
** Shuenhoy  15:37:25 **  
问题就在于我假定了100<=i<=1000 

** 约修亚_RK  15:37:27 **  
＝　＝

** Shuenhoy  15:37:34 **  
也就是知道了i的位数

** 约修亚_RK  15:37:40 **  
＝　＝  
浩然  
如果是我我就全部删掉换条路重来了0 0  

** Shuenhoy  15:38:14 **  
无线序列怎么换= =

** 约修亚_RK  15:38:39 **  
首先问题就是知道要求第几位  
然后求出第几位  
然后我们可以倒着算或者正着一个数一个数遍历过去  
反正后者是很傻的  
** Shuenhoy  15:39:40 **  
无限序列遍历个毛线
 
** 约修亚_RK  15:39:50 **  
这样我们要想知道这个数在哪个区间  
先

** Shuenhoy  15:40:36 **  
一个必要的条件是我得知道结果的位数 

** 约修亚_RK  15:40:42 **  
0 0怎么知道这个数在哪个区间?这个数所在的数是几位的？


```lua
f={}
t={}
function int(x)
if x <= 0 then
   return math.ceil(x);
end

if math.ceil(x) == x then
   x = math.ceil(x);
else
   x = math.ceil(x) - 1;
end
return x;
end
local index=1;
function fnum( i )
	local c={}
	while(i>0) do
		table.insert(c,i%10)
		i=int(i/10);
	end
	for i=#c,1,-1 do
		table.insert(f,c[i])
		table.insert(t,index)
		index=index+1
	end
end
for i=1,1000 do
	fnum(i)
end
print(table.concat( f, " "))

print(table.concat( t, " "))
```
